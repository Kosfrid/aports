# Contributor: Konstantin Khokhlov <khohlovsky@gmail.com>
pkgname=wicd
pkgver=1.7.2.4
pkgrel=0
pkgdesc="Wicd is an open source wired and wireless network manager for Linux"
url="http://wicd.sourceforge.net/"
arch="noarch"
license="GPLv2"
depends="python2 py-gtk dbus py-dbus wireless-tools iproute2 pm-utils py2-babel"
source="${pkgname}-${pkgver}.tar.gz::https://github.com/dpaleino/wicd/archive/1.7.2.4.tar.gz
wicd.initd"
builddir="$srcdir/$pkgname-$pkgver"

build() {
  cd "$builddir"
  python setup.py configure \
    --distro=gentoo \
    --no-install-init \
    --no-install-man

}

package() {
  cd "$builddir"
  python setup.py install --root="$pkgdir" --prefix="/usr"
  install -m755 -D "$srcdir"/$pkgname.initd "$pkgdir"/etc/init.d/$pkgname || return 1
}

sha512sums="3b42e94de3c6f0bfcbb45e7f6b598e7b6dbec25ff29ce3e1744876f75e0662d4f3ad0ccaba1a24e728fd63fc492d6f7d5c768247b9d55bcc2994df0d1b52bf80  wicd-1.7.2.4.tar.gz
3a649de9fc80eb98ff28a6a899b96822b06402476dc43f41ae45e88ead6fe4012848193e477e7e8f55f6d97e1eaaa83cc4ab03faaa35cd23bc347a930ade321e  wicd.initd"
